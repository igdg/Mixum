<!--
  Generated template for the ProfilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>{{profile.username}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div text-center>
    <img [src]="profile.photo || 'assets/img/profile.jpg'" class="img"/>
  </div>
  <div text-center *ngIf="mostrar">
    <p class="aColor" (click)="changeImage()">Cambiar imagen de perfil</p>
  </div>
  <div *ngIf="currentUserId != userId" text-center>
    <button ion-button color="secondary" small round text-center (click)="toggleFollow()" *ngIf="isFollowing">Dejar de seguir</button>
    <button ion-button color="primary" small round text-center (click)="toggleFollow()" *ngIf="!isFollowing">Seguir</button>
  </div>
  <div text-center>
    <div class="card" (click)="viewFollowers()">
      <div class="container">
        <p class="cBold">Seguidores</p>
        <p>{{followerCount}}</p>
      </div>
    </div>
    <div class="card" (click)="viewFollowing()">
      <div class="container">
        <p class="cBold">Siguiendo</p>
        <p>{{following}}</p>
      </div>
    </div>
  </div>

  <ion-item>
    <ion-label>Nombre de usuario</ion-label>
    <ion-input [(ngModel)]="profile.username"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label>Nombre</ion-label>
    <ion-input [(ngModel)]="profile.firstName"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label>Apellido</ion-label>
    <ion-input [(ngModel)]="profile.lastName"></ion-input>
  </ion-item>

  <br>
  <div text-center>
    <button ion-button color="primary" small round text-center (click)="save(profile)" *ngIf="mostrar">Guardar</button>
  </div>
  <!--<div padding text-center>-->
  <!--<button ion-button block round text-center (click)="createProfile()">Crear Perfil</button>-->
  <!--</div>-->

  <br>
  <hr>
  <br>
  <post-card *ngFor="let item of postsList$ | async" [item]="item"></post-card>

</ion-content>
